<div class="profile-container">
  <div class="profile-card">
    <div class="header">
      <h2>User Profile</h2>
      <button class="btn btn-logout" (click)="logout()">Logout</button>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading" class="loading">
      <p>Loading profile...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="errorMessage && !isLoading" class="error-message">
      {{ errorMessage }}
    </div>

    <!-- Profile Content -->
    <div *ngIf="profile && !isLoading" class="profile-content">
      <div class="avatar-section">
        <img [src]="profile.avatar || 'https://via.placeholder.com/150'" alt="Profile Avatar" class="avatar">
      </div>

      <div class="profile-info">
        <div class="info-item">
          <label>Name:</label>
          <span>{{ profile.name }}</span>
        </div>

        <div class="info-item">
          <label>Email:</label>
          <span>{{ profile.email }}</span>
        </div>

        <div class="info-item" *ngIf="profile.role">
          <label>Role:</label>
          <span>{{ profile.role }}</span>
        </div>

        <div class="info-item">
          <label>User ID:</label>
          <span>{{ profile.id }}</span>
        </div>
      </div>
    </div>

    <!-- Token Info Section (for demonstration) -->
    <div class="token-section" *ngIf="getTokenInfo()">
      <h3>JWT Token Info</h3>
      <div class="token-info">
        <p><strong>Token Status:</strong> <span class="status-active">Active</span></p>
        <p><strong>Token Payload:</strong></p>
        <pre>{{ getTokenInfo() | json }}</pre>
      </div>
    </div>

    <div class="info-note">
      <p><strong>Note:</strong> The JWT token is automatically included in all HTTP requests via the interceptor.</p>
    </div>
  </div>
</div>

